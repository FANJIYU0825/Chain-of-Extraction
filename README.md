# Chain-of-Extraction
This automated pipeline uses OCR and LLMs to extract, structure, and translate key information from unstructured or semi-structured cosmetic regulation documents in PDF format.

---

## âœ¨ Features

- **Modular Design**: The project utilizes a multi-stage pipeline, guiding the LLM's output through a sequential workflow. The entire process is divided into five independent stages that can be run individually or sequentially:
  1.  **OCR Processing**
  2.  **Data Preprocessing**
  3.  **LLM Content Refinement**
  4.  **LLM Regulation Structuring**
  5.  **LLM Translation**
  6.  **LLM Extraction**
- **Highly Configurable**: Easily specify input/output directories and choose between different Large Language Models (e.g., `gpt-4o`, `gemini`) via command-line arguments.
- **Overwrite Support**: Option to overwrite existing results, making it convenient to re-run specific stages of the pipeline.
- **Multimodal Capabilities**: The "Content Refinement" stage leverages both document images and OCR text to improve the accuracy of data extraction.

---

## ğŸ“ Project Structure

```
cosmetic-pipeline/
â”œâ”€â”€ source_documents/           # Place original PDF files here
â”‚   â”œâ”€â”€ document1.pdf
â”‚   â””â”€â”€ document2.pdf
â”œâ”€â”€ results/                    # All outputs from the processing stages
â”‚   â”œâ”€â”€ ocr/
â”‚   â”‚   â”œâ”€â”€ images/             # Page images generated by OCR
â”‚   â”‚   â””â”€â”€ document1_ocr.json
â”‚   â”œâ”€â”€ preprocess/
â”‚   â”‚   â””â”€â”€ document1_preprocessed.json
â”‚   â”œâ”€â”€ llm_refine/
â”‚   â”‚   â””â”€â”€ document1_ocr_refine.json
â”‚   â”œâ”€â”€ llm_regulation/
â”‚   â”‚   â””â”€â”€ document1_regulation_structure.json
â”‚   â”œâ”€â”€ llm_translation/
â”‚   â”‚    â””â”€â”€ document1_translation.json
â”‚   â””â”€â”€ llm_extraction/
â”‚       â””â”€â”€ document1_extraction.json
â”œâ”€â”€ cosmetic_pipline/           # Project source code modules
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ ocr_processor.py
â”‚   â”œâ”€â”€ doc_preprocessor.py
â”‚   â”œâ”€â”€ llm_processor.py
â”‚   â””â”€â”€ ...
â”œâ”€â”€ main.py                     # Main execution script
â”œâ”€â”€ requirements.txt            # Project dependencies
â”œâ”€â”€ .env.example                # Environment variable template
â””â”€â”€ README.md                   # This file
```

