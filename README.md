# Chain-of-Extraction
This automated pipeline uses OCR and LLMs to extract, structure, and translate key information from unstructured or semi-structured cosmetic regulation documents in PDF format.

---

## ✨ Features

- **Modular Design**: The project utilizes a multi-stage pipeline, guiding the LLM's output through a sequential workflow. The entire process is divided into five independent stages that can be run individually or sequentially:
  1.  **OCR Processing**
  2.  **Data Preprocessing**
  3.  **LLM Content Refinement**
  4.  **LLM Regulation Structuring**
  5.  **LLM Translation**
  6.  **LLM Extraction**
- **Highly Configurable**: Easily specify input/output directories and choose between different Large Language Models (e.g., `gpt-4o`, `gemini`) via command-line arguments.
- **Overwrite Support**: Option to overwrite existing results, making it convenient to re-run specific stages of the pipeline.
- **Multimodal Capabilities**: The "Content Refinement" stage leverages both document images and OCR text to improve the accuracy of data extraction.

---

## 📁 Project Structure

```
cosmetic-pipeline/
├── source_documents/           # Place original PDF files here
│   ├── document1.pdf
│   └── document2.pdf
├── results/                    # All outputs from the processing stages
│   ├── ocr/
│   │   ├── images/             # Page images generated by OCR
│   │   └── document1_ocr.json
│   ├── preprocess/
│   │   └── document1_preprocessed.json
│   ├── llm_refine/
│   │   └── document1_ocr_refine.json
│   ├── llm_regulation/
│   │   └── document1_regulation_structure.json
│   ├── llm_translation/
│   │    └── document1_translation.json
│   └── llm_extraction/
│       └── document1_extraction.json
├── cosmetic_pipline/           # Project source code modules
│   ├── __init__.py
│   ├── ocr_processor.py
│   ├── doc_preprocessor.py
│   ├── llm_processor.py
│   └── ...
├── main.py                     # Main execution script
├── requirements.txt            # Project dependencies
├── .env.example                # Environment variable template
└── README.md                   # This file
```

